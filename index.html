<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="rep2ex all-in-one : ServerSide 2ch viewer">
    <meta name="referrer" content="none">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>rep2ex all-in-one</title>
    <script type="text/javascript" src="javascripts/main.js"></script>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/2ch774/p2-php">View on GitHub</a>

          <h1 id="project_title">rep2ex all-in-one</h1>
          <h2 id="project_tagline">ServerSide 2ch viewer</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/2ch774/p2-php/releases">リリース一覧</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="rep2-expack-全部入り-by-2ch774" class="anchor" href="#rep2-expack-%E5%85%A8%E9%83%A8%E5%85%A5%E3%82%8A-by-2ch774" aria-hidden="true"><span class="octicon octicon-link"></span></a>rep2 expack 全部入り by 2ch774</h1>

<ul>
<li>rep2-expack <a href="https://github.com/rsky/p2-php">https://github.com/rsky/p2-php</a>
</li>
<li>rep2-expack +live <a href="https://github.com/pluslive/p2-php">https://github.com/pluslive/p2-php</a>
</li>
<li>rep2-expack test <a href="https://github.com/orzisun/p2-php">https://github.com/orzisun/p2-php</a>
</li>
</ul>

<p>上記やスレに上げられた修正を取り込んで全部入りを目指す闇鍋バージョンです。</p>

<p>独自の改良も行っています。</p>

<h3>
<a id="追加機能" class="anchor" href="#%E8%BF%BD%E5%8A%A0%E6%A9%9F%E8%83%BD" aria-hidden="true"><span class="octicon octicon-link"></span></a>追加機能</h3>

<p>各機能の説明は<a href="https://github.com/2ch774/p2-php/tree/master/doc">READMEファイル</a>を見てください。</p>

<h3>
<a id="スクリーンショット" class="anchor" href="#%e3%82%b9%e3%82%af%e3%83%aa%e3%83%bc%e3%83%b3%e3%82%b7%e3%83%a7%e3%83%83%e3%83%88" aria-hidden="true"><span class="octicon octicon-link"></span></a>スクリーンショット</h3>
<p>新しいスマホ向け画面（開発中）です</p>

<a href="images/screenshots/i_read_320x920.png">
	<img src="images/screenshots/small/i_read_320x920.png" alt="image">
</a>

<h2>
<a id="セットアップ" class="anchor" href="#%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97" aria-hidden="true"><span class="octicon octicon-link"></span></a>セットアップ</h2>

<h3>
<a id="git--composerで" class="anchor" href="#git--composer%E3%81%A7" aria-hidden="true"><span class="octicon octicon-link"></span></a>Git &amp; Composerで</h3>

<ol>
<li>
<p>本体をclone</p>
<ul>
<li>
<p>開発版 - unstable -</p>
<pre>git clone git://github.com/2ch774/p2-php.git
cd p2-php</pre>
</li>
<li>
<p>テスト版 - testing -</p>
<p><a href="https://github.com/2ch774/p2-php/releases"><img src="./images/icon_download.png">リリース一覧</a></p>
</li>
<li>
<p>安定版 - stable -</p>
<p>そんなものはなかった</p>
</li>
</ul>
</li>
<li>
<p>依存ライブラリをダウンロード</p>

<pre>curl -O http://getcomposer.org/composer.phar
php -d detect_unicode=0 composer.phar install</pre>
</li>
<li>
<p>Webサーバが書き込めるようにディレクトリのアクセス権をセット<br>
(CGI/suEXECIやCLI/Built-in web serverでは不要)</p>

<pre>chmod 0777 data/* rep2/ic</pre>
</li>
</ol>

<h2>
<a id="動作環境" class="anchor" href="#%E5%8B%95%E4%BD%9C%E7%92%B0%E5%A2%83" aria-hidden="true"><span class="octicon octicon-link"></span></a>動作環境</h2>

<p>Linux(openSUSE Leap)のPHP7+Apacheで動作確認しています。</p>

<p>PHP5.6以降で動くはずですが、PHP7.*推奨です。</p>

<p>PHP7での不具合修正を優先するため突然PHP5.xのサポートが終わる可能性があります。</p>

<p>以下のコマンドを実行して、全ての項目で <code>OK</code> が出たなら大丈夫です。</p>

<p>何かエラーが出たらがんばって環境を整えてください。</p>

<pre><code>php scripts/p2cmd.php check
</code></pre>

<h2>
<a id="built-in-web-serverで使ってみる-php-54" class="anchor" href="#built-in-web-server%E3%81%A7%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B-php-54" aria-hidden="true"><span class="octicon octicon-link"></span></a>Built-in web serverで使ってみる (PHP 5.4+)</h2>

<p>PHP 5.4の新機能、<a href="http://docs.php.net/manual/ja/features.commandline.webserver.php">ビルトインウェブサーバー</a>で簡単に試せます。</p>

<p>以下のようにすると、Webサーバーの設定をしなくても <code>http://localhost:8080/</code> でrep2を使えます。<strong>(Windowsでも!)</strong></p>

<pre><code>cd rep2
php -S localhost:8080 web.php
</code></pre>

<p>moriyoshi++</p>

<h2>
<a id="画像を自動で保存したい" class="anchor" href="#%E7%94%BB%E5%83%8F%E3%82%92%E8%87%AA%E5%8B%95%E3%81%A7%E4%BF%9D%E5%AD%98%E3%81%97%E3%81%9F%E3%81%84" aria-hidden="true"><span class="octicon octicon-link"></span></a>画像を自動で保存したい</h2>

<p>スレに貼られている画像を自動で保存する機能、<strong>ImageCache2</strong>があります。</p>

<p>see also <a href="https://github.com/2ch774/p2-php/blob/master/doc/ImageCache2/README.txt">doc/ImageCache2/README.txt</a>, <a href="https://github.com/2ch774/p2-php/blob/master/doc/ImageCache2/INSTALL.txt">doc/ImageCache2/INSTALL.txt</a></p>

<h3>
<a id="準備" class="anchor" href="#%E6%BA%96%E5%82%99" aria-hidden="true"><span class="octicon octicon-link"></span></a>準備</h3>

<ol>
<li><p>SQLite以外のデータベースを使う場合はデータベースサーバーを立ち上げておく。  </p></li>
<li>
<p>conf/conf_admin_ex.inc.phpでImageCache2を有効にする。</p>

<pre>$_conf['expack.ic2.enabled'] = 3;</pre>
</li>
<li>
<p>conf/conf_ic2.inc.phpで<a href="http://pear.php.net/manual/ja/package.database.db.intro-dsn.php">DSN</a>を設定する。</p>

<pre>$_conf['expack.ic2.general.dsn'] = 'mysql://username:password@localhost:3306/database';</pre>
</li>
<li>
<p>setupスクリプトを実行する。</p>

<pre>php scripts/ic2.php setup</pre>
</li>
</ol>

<h3>
<a id="注意" class="anchor" href="#%E6%B3%A8%E6%84%8F" aria-hidden="true"><span class="octicon octicon-link"></span></a>注意</h3>

<ul>
<li>PHP 5.4ではSQLite2がサポートされなくなったので、ImageCache2を使いたいときはMySQLかPostgreSQLが必要です。</li>
<li>ホストに<code>localhost</code>を指定して接続できないときは、代わりに<code>127.0.0.1</code>にしてみてください。</li>
</ul>

<h2>
<a id="設定を変えたい" class="anchor" href="#%E8%A8%AD%E5%AE%9A%E3%82%92%E5%A4%89%E3%81%88%E3%81%9F%E3%81%84" aria-hidden="true"><span class="octicon octicon-link"></span></a>設定を変えたい</h2>

<p>細かい挙動の変更は <code>メニュー &gt; 設定管理 &gt; ユーザー設定編集</code> から行えます。</p>

<p>Webブラウザから変更できない項目は <a href="https://github.com/2ch774/p2-php/blob/master/conf/conf_admin.inc.php">conf/conf_admin.inc.php</a> (基本), <a href="https://github.com/2ch774/p2-php/blob/master/conf/conf_admin_ex.inc.php">conf/conf_admin_ex.inc.php</a> (拡張パック), <a href="https://github.com/2ch774/p2-php/blob/master/conf/conf_ic2.inc.php">conf/conf_ic2.inc.php</a> (ImageCache2) を直接編集します。</p>

<p>どういうことができるか書き起こすのが面倒なので設定ファイルのコメントを見てください。</p>

<h2>
<a id="更新" class="anchor" href="#%E6%9B%B4%E6%96%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>更新</h2>

<pre><code>php scripts/p2cmd.php update
</code></pre>

<p>これは下記コマンドを個別に実行するのと等価です。</p>

<pre><code>git pull
php -d detect_unicode=0 composer.phar self-update
php -d detect_unicode=0 composer.phar update
</code></pre>

<h2>
<a id="authors--contributors" class="anchor" href="#authors--contributors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authors &amp; Contributors</h2>

<ul>
<li>
<strong>aki</strong> <em>(original)</em> <a href="http://akid.s17.xrea.com/">http://akid.s17.xrea.com/</a>
</li>
<li>
<strong>rsk</strong> <em>(expack)</em> <a href="https://github.com/rsky/p2-php/">https://github.com/rsky/p2-php/</a>
</li>
<li>
<strong>unpush</strong> <a href="https://github.com/unpush/p2-php/">https://github.com/unpush/p2-php/</a>
</li>
<li>
<strong>thermon</strong> <a href="https://github.com/thermon/p2-php/">https://github.com/thermon/p2-php/</a>
</li>
<li>
<strong>part32の892</strong> <em>(+live)</em> <a href="https://github.com/pluslive/p2-php/">https://github.com/pluslive/p2-php/</a>
</li>
<li>
<strong>orzisun</strong> <a href="https://github.com/orzisun/p2-php">https://github.com/orzisun/p2-php</a>
</li>
<li>
<strong>2ch774</strong> <a href="https://github.com/2ch774/p2-php">https://github.com/2ch774/p2-php</a>
</li>
<li>
<strong>killer4989</strong> <a href="https://github.com/killer4989/p2-php">https://github.com/killer4989/p2-php</a>
</li>
<li><strong>2ch p2/rep2スレの&gt;&gt;1-1000</strong></li>
</ul>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>see <a href="https://github.com/2ch774/p2-php/blob/master/LICENSE.txt">LICENSE.txt</a></p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">rep2ex all-in-one maintained by <a href="https://github.com/2ch774">2ch774</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>



  </body>
</html>
